<?php
$access_token = "1000.b32ec2203df4e958c359b08907c61b9f.9c12ae178c6e41992db76a8d6bb4ff78";
$movies = array(
array("user_Id"=>"1699841000272815118","email_id"=>"Prashant.parmar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156043","first_Name"=>"Prashant Govindbhai Parmar","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000300457674","email_id"=>"ravi.thakor@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156481","first_Name"=>"Ravi Kumar Thakor","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272816056","email_id"=>"vijay.vaghela@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156051","first_Name"=>"Vijay Balvantbhai Vaghela","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272770521","email_id"=>"a202448@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202448","first_Name"=>"Shahrukh Mohmmedkhan Pathan","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000287118037","email_id"=>"a202462@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202462","first_Name"=>"Hitixa Nakum","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000366941867","email_id"=>"A202368@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202368","first_Name"=>"Manthan Mehta","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311420792","email_id"=>"Vijaykumar.mochi@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156539","first_Name"=>"Vijaykumar Venkateebhai Mochi","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000288032261","email_id"=>"rameshbhai.adidravidar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156298","first_Name"=>"Ramesh A Adidravidar","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000260910123","email_id"=>"mitalben.parekh@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C155687","first_Name"=>"Mitalben Dipakbhai Parekh","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000361268556","email_id"=>"durgesh.daga@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157276","first_Name"=>"Durgesh Daga","reporting_id"=>"1699841000283635235","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000260981051","email_id"=>"Kushal.oza@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C155683","first_Name"=>"Kushal Ajay Oza","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000282957222","email_id"=>"Ankitaben.patel@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156105","first_Name"=>"Ankitaben Navinkumar Patel","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000283275154","email_id"=>"Reena.sharma@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156155","first_Name"=>"Reena Sharma","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000300640439","email_id"=>"Ratish.nadar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156485","first_Name"=>"Ratish Laxmanan Nadar","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272815112","email_id"=>"A202449@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202449","first_Name"=>"Keval Shyamrao Savant","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311200696","email_id"=>"yash.shah@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156513","first_Name"=>"Yash Prashantkumar Shah","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311575122","email_id"=>"ashok.chaudhari@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156560","first_Name"=>"Ashok Ramshibhai Chaudhari","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000283336062","email_id"=>"jay.odedara@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C155923","first_Name"=>"Jay Savdasbhai Odedara","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311395103","email_id"=>"tejas.solanki@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156510","first_Name"=>"Tejas Vinodkumar Solanki","reporting_id"=>"1699841000008620396","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000382742659","email_id"=>"pankaj.shah@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157558","first_Name"=>"PankaJ Shah","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000300615345","email_id"=>"kajal.kushava@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156305","first_Name"=>"Kajal Kushava","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000246649848","email_id"=>"A202371@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202371","first_Name"=>"Naveen J Sewada","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000372675279","email_id"=>"A202589@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202589","first_Name"=>"Ankit Balgovind Awasthi","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000263732078","email_id"=>"a202414@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202414","first_Name"=>"Dhaval Dineshbhai Trivedi","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000383194102","email_id"=>"krupaba.jadeja@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157505","first_Name"=>"Krupaba Ranvirsinh Jadeja","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000309492902","email_id"=>"parth.patel@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156511","first_Name"=>"Parth Prafulbhai Patel","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000382789893","email_id"=>"a202600@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202600","first_Name"=>"Neeta Chauhan","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000359975646","email_id"=>"a202562@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202562","first_Name"=>"Anilkumar Hamribhai Bariya","reporting_id"=>"1699841000358285551","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000298424470","email_id"=>"nofil.kholiyawala@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156397","first_Name"=>"Nofil Kasambhai Kholiyawala","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000273163013","email_id"=>"A202453@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202453","first_Name"=>"Sanjana Kumari","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000300735145","email_id"=>"dinesh.modi@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156320","first_Name"=>"Dinesh Modi","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000372417460","email_id"=>"A202595@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202595","first_Name"=>"Niharika Kharadi","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000380552086","email_id"=>"irshad.shaikh@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157501","first_Name"=>"Irshad Mohd.Rafique shaikh","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000263448921","email_id"=>"A202415@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202415","first_Name"=>"Yasar Pathan","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000333747380","email_id"=>"A202534@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202534","first_Name"=>"Shweta Jagdishbhai Makawana","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000333820280","email_id"=>"A202530@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202530","first_Name"=>"Sandip Suryavanshi","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311535666","email_id"=>"bhagyashree.bhoi@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156689","first_Name"=>"Bhagyashree Bhanubhai Bhoi","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000359942286","email_id"=>"krupal.vekariya@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157211","first_Name"=>"Krupal Bharatbahi vekariya","reporting_id"=>"1699841000272762312","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272815120","email_id"=>"Vaishali.solanki@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156048","first_Name"=>"Vaishali Vasantkumar Solanki","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000260967085","email_id"=>"A202382@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202382","first_Name"=>"Mansi Ravi Patel","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000400045580","email_id"=>"mital.solanki@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157508","first_Name"=>"Mittal Solanki","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000371896811","email_id"=>"nirali.moradiya@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157451","first_Name"=>"Nirali Moradiya","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000283063159","email_id"=>"urvashi.panchal@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156106","first_Name"=>"Urvashi Harshadbhai Panchal","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311376987","email_id"=>"chetan.solanki@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156712","first_Name"=>"Chetan Dalpatbhai Solanki","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000372346980","email_id"=>"a202594@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202594","first_Name"=>"Dharmendrasinh Rahevar","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000260964121","email_id"=>"A202400@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202400","first_Name"=>"Tejes Panchal","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000387439558","email_id"=>"dharmesh.ratnottar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157516","first_Name"=>"Dharmesh Ratnottar","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000297952613","email_id"=>"a202493@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202493","first_Name"=>"Pooja Rameshbhai Vankhade","reporting_id"=>"1699841000399309069","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000372565391","email_id"=>"a202584@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202584","first_Name"=>"Arun Jain","reporting_id"=>"1699841000449277427","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000333832230","email_id"=>"mohit.kumar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156970","first_Name"=>"Mohit Kumar","reporting_id"=>"1699841000449277427","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000382781388","email_id"=>"anish.kumar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157556","first_Name"=>"Anish Kumar","reporting_id"=>"1699841000449277427","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000336093236","email_id"=>"jeel.shah@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156860","first_Name"=>"Jeel Shah","reporting_id"=>"1699841000449277427","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000246501956","email_id"=>"a202379@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202379","first_Name"=>"Ketan Danabhai Makwana","reporting_id"=>"1699841000449277427","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000367679142","email_id"=>"Palak.parmar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157223","first_Name"=>"Palak Vinodkumar parmar","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272822104","email_id"=>"kishan.ravrani@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156045","first_Name"=>"Kishan Dineshbhai Ravrani","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000286930940","email_id"=>"mehulkumar.kotval@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156276","first_Name"=>"Mehulkumar Kantibhai Kotval","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000272770506","email_id"=>"a202427@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202427","first_Name"=>"Aslam Varaiya","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000358112995","email_id"=>"bharat.thakar@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157115","first_Name"=>"Bharat thakar","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000399705005","email_id"=>"ibrahim.molwi@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157287","first_Name"=>"Ibrahim Molwi","reporting_id"=>"1699841000270718421","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311200551","email_id"=>"Parul.zankat@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156509","first_Name"=>"Parul Ukabhai Zankat","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000283699006","email_id"=>"jalak.parasiya@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156036","first_Name"=>"Jalak Parasiya","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000382656828","email_id"=>"bhaumik.patel@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C157554","first_Name"=>"Bhaumik Patel","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000360003147","email_id"=>"a202566@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202566","first_Name"=>"Sadan Shamshuddin salmani","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311501735","email_id"=>"rajani.gupta@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156694","first_Name"=>"Rajani Shivsharan Gupta","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000311508623","email_id"=>"shobhanaben.thakor@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C156568","first_Name"=>"Shobhanaben Thamaji Thakor","reporting_id"=>"1699841000436414665","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000425251746","email_id"=>"nitesh.mada@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158075","first_Name"=>"Nitesh Mada","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000425244206","email_id"=>"A202648@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202648","first_Name"=>"Heemil Patel","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000424135648","email_id"=>"sonal.joshi@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158073","first_Name"=>"Sonal Joshi","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000423412991","email_id"=>"bhoomika.gelani@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158081","first_Name"=>"Bhoomika Gelani","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000436904079","email_id"=>"kataria.mavji@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158244","first_Name"=>"Kataria Kiran Mavji","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000440839691","email_id"=>"A202661@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202661","first_Name"=>"Maya Varotariya","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000436819163","email_id"=>"seema.patel@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158239","first_Name"=>"Seema Patel","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000474517254","email_id"=>"A202663@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"A202663","first_Name"=>"Tanvi Natvarbhai Baria","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"),
array("user_Id"=>"1699841000436523865","email_id"=>"hetal.rana@5paisa.com","role_id"=>"1699841000342631699","Emp_Code"=>"C158246","first_Name"=>"Hetal Kishanlal Rana","reporting_id"=>"1699841000469652974","last_name"=>"Ahmedabad Sales","State"=>"Ahmedabad"));
$userd_id_param="user_Id";
$role_id_param="role_id";
$Emp_Code_param="Emp_Code";
$reporting_id_param="reporting_id";
$last_name_param="last_name";
$state_param="state";
foreach ( $movies as $movie ) {
  foreach ( $movie as $key => $value ) {
    error_log ("<dt>$key</dt><dd>$value</dd>");
    if(strpos($key, $userd_id_param)!== false){
      $recordId = $value;
    }
    if(strpos($key, $role_id_param)!== false){
      $role_id = '"'.$value.'"';
    }
    if(strpos($key, $Emp_Code_param)!== false){
      $Emp_Code = '"'.$value.'"';
    }
    if(strpos($key, $state_param)!== false){
      $state = '"'.$value.'"';
    }
    if(strpos($key, $last_name_param)!== false){
      $last_name = '"'.$value.'"';
    }
    if(strpos($key, $reporting_id_param)!== false){
      $reporting_id = '"'.$value.'"';
    }
  }
  $url = "https://www.zohoapis.com/crm/v2/users/$recordId";
  error_log($url);
  $accesstokenparam = "Zoho-oauthtoken"." ".$access_token;
  $headers = array("Authorization: $accesstokenparam");
  $content_type = "application/json";
  //$headers->Content-type = $content_type;
  //$headers->Authorization = $accesstokenparam;
  error_log(json_encode($headers));
  $ch = curl_init();
  //$param1 = '{"users":[{"Reporting_To":{"id":';
  $param1 = '{"users":[{"role":';
  $param10 = ',"role_id":';
  $param9 = ',"reporting_to_id":';
  $reportingid = $reporting_id;
  //$param2 = ', "Emp_Code":';
  //$param3 = ', "state":';
  //$param4 = '}}]}'; 
  $param4 = '}]}'; 
  /*
  {
    "users": [
       {
"role":"${ROLE_ID}"
        }
    ]
}*/
  
  /*
  {
     "users":[
         {
            "Reporting_To":
            {
                "id":"${REPORTING_TO_ID}"
            }
         }
     ]
}*/
  
  $json = $param1.$role_id.$param4;
  //$json = $param1.$last_name.$param10.$reportingid.$param2.$Emp_Code.$param3.$state.$param4;
  //$json = $param1.$last_name.$param2.$Emp_Code.$param3.$state.$param4;
  error_log($json);
  $result = json_decode ($json);
  curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
  curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");
  curl_setopt($ch, CURLOPT_POSTFIELDS,$json);
  curl_setopt($ch, CURLOPT_URL, $url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
  $st=curl_exec($ch);
  error_log("first response");
  error_log($st);
  $Code = "code";
  $Message = "message";
  $AlternatePhoneNumber = "invalid";
  $AlternatePhoneNumber2 = "FAILURE";
  $arr = (json_decode($st, true));
  foreach ( $arr as $key=>$val ){
    if(strpos($key, $Message)!== false){
      if(strpos($val, $AlternatePhoneNumber)!== false){
        $REFRESH_TOKEN_ID = '1000.e6c1444c8dfe5be81e2071d68c92e76b.0442c58394e29dde316f5be4057484ec';
        $CLIENT_ID = '1000.KCRJ9GWGPIJZ56008726DSCMDAUI8U';
        $CLIENT_SECRET = '034bc2464c3093c42b6605b6297af733557ffcc3cb';
        $accesstokenurl = "https://accounts.zoho.com/oauth/v2/token?refresh_token=1000.e6c1444c8dfe5be81e2071d68c92e76b.0442c58394e29dde316f5be4057484ec&client_id=1000.KCRJ9GWGPIJZ56008726DSCMDAUI8U&client_secret=034bc2464c3093c42b6605b6297af733557ffcc3cb&grant_type=refresh_token";
        //$grant_type = 'refresh_token';
        //error_log($accesstokenurl);
        $tokench = curl_init();
        $myObj->grant_type = $grant_type;
        $myObj->refresh_token = $REFRESH_TOKEN_ID;
        $myObj->client_id = $CLIENT_ID;
        $myObj->client_secret=$CLIENT_SECRET;
        $tokenjson = json_encode($myObj);
        curl_setopt($tokench, CURLOPT_CUSTOMREQUEST, "POST");
        curl_setopt($tokench, CURLOPT_URL, $accesstokenurl);
        curl_setopt($tokench, CURLOPT_RETURNTRANSFER, 1);  
        $tokenst=curl_exec($tokench);
        error_log("token response");
        error_log($tokenst);
        $access_token_param="access_token";
        $arr = (json_decode($tokenst, true));
        foreach ( $arr as $key=>$val ){
          if(strpos($key, $access_token_param)!== false){
            error_log($val);
            $access_token=$val;
            //$url = "https://www.zohoapis.com/crm/v2/users/{$recordId}";
            $url = "https://crm.zoho.com/crm/v2/Users";
            error_log($url);
            $accesstokenparam = "Zoho-oauthtoken"." ".$access_token;
            $headers = array("Authorization: $accesstokenparam");
            $content_type = "application/json";
            error_log(json_encode($headers));
            $ch = curl_init();
            $result = json_decode ($json);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");
            curl_setopt($ch, CURLOPT_POSTFIELDS,$json);
            curl_setopt($ch, CURLOPT_URL, $url);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
            $st=curl_exec($ch);
            error_log("first response");
            error_log($st);          
          }
        }
      }
    }
  }
}
?>
